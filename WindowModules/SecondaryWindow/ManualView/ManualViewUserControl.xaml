<UserControl x:Class="ApplicationSuite.WindowModules.SecondaryWindow.ManualView.ManualViewUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:beh="clr-namespace:ApplicationSuite.WindowModules.SecondaryWindow.ManualView.Behaviors"
             mc:Ignorable="d"
             d:DesignWidth="900"
             d:DesignHeight="600">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#FAFAFA" BorderBrush="#DDDDDD" BorderThickness="0,0,0,1" Padding="8">
            <DockPanel LastChildFill="True">
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                    <CheckBox Content="Auto-scroll"
                              IsChecked="{Binding AutoScrollEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                </StackPanel>
                <TextBlock VerticalAlignment="Center"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Text="{Binding Title, FallbackValue=Manual, TargetNullValue=Manual}"/>
            </DockPanel>
        </Border>

        <!-- Body -->
        <Grid Grid.Row="1">
            <TextBox
                Text="{Binding Content, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                AcceptsReturn="True"
                AcceptsTab="True"
                VerticalScrollBarVisibility="Auto"
                HorizontalScrollBarVisibility="Auto"
                beh:ScrollToIndexBehavior.TargetCharIndex="{Binding ScrollTargetIndex}" />
            <!-- <TextBox Text="{Binding Content, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     AcceptsReturn="True"
                     AcceptsTab="True"
                     TextWrapping="NoWrap"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     Padding="8"
                     FontSize="14"
                     beh:ScrollToIndexBehavior.TargetCharIndex="{Binding ScrollTargetIndex}" /> -->
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#FAFAFA" BorderBrush="#DDDDDD" BorderThickness="0,1,0,0" Padding="8">
            <DockPanel LastChildFill="True">
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="Save"
                            Command="{Binding SaveCommand}"
                            CommandParameter="{Binding}"
                            ToolTip="Save" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Status:" VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding StatusMessage}" Margin="6,0,0,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Dirty:" Margin="18,0,0,0" VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding IsDirty}" Margin="6,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </DockPanel>
        </Border>
    </Grid>
</UserControl>
